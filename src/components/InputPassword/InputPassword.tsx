import style from "./InputPassword.module.scss"
import {Input} from "../Input/Input.tsx";
import {InputProps} from "../Input/InputProps.ts";
import cn from "classnames";
import {useState} from "react";

export function InputPassword({isValid, ...props}: InputProps) {
    const [visibility, setVisibility] = useState(false)
    return(
        <div className={style.container}>
            <Input hidden={!visibility} isValid={isValid} {...props}/>
            <div onClick={()=> {
                setVisibility(prev => !prev)
            }} className={style.button}>
                {visibility ? <svg className={cn(style.visible, {[style.errorVisible]: !isValid})} width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <g id="Property 1=show">
                            <g id="Vector">
                                <path d="M3.5868 13.7788C5.36623 15.5478 8.46953 17.9999 12.0002 17.9999C15.5308 17.9999 18.6335 15.5478 20.413 13.7788C20.8823 13.3123 21.1177 13.0782 21.2671 12.6201C21.3738 12.2933 21.3738 11.7067 21.2671 11.3799C21.1177 10.9218 20.8823 10.6877 20.413 10.2211C18.6335 8.45208 15.5308 6 12.0002 6C8.46953 6 5.36623 8.45208 3.5868 10.2211C3.11714 10.688 2.88229 10.9216 2.7328 11.3799C2.62618 11.7067 2.62618 12.2933 2.7328 12.6201C2.88229 13.0784 3.11714 13.3119 3.5868 13.7788Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                        </g>
                    </svg> :
                    <svg className={cn({[style.error]: !isValid})} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M4.707 3.29289C4.31647 2.90237 3.68331 2.90237 3.29278 3.29289C2.90226 3.68342 2.90226 4.31658 3.29278 4.70711L4.707 3.29289ZM19.2928 20.7071C19.6833 21.0976 20.3165 21.0976 20.707 20.7071C21.0975 20.3166 21.0975 19.6834 20.707 19.2929L19.2928 20.7071ZM16.9742 17.6362C17.4604 17.3743 17.6422 16.7678 17.3803 16.2816C17.1183 15.7954 16.5119 15.6135 16.0256 15.8755L16.9742 17.6362ZM3.5868 13.7788L2.88178 14.488H2.88178L3.5868 13.7788ZM3.58827 10.2197L2.88331 9.51042H2.88331L3.58827 10.2197ZM7.67097 8.29349C8.14965 8.01802 8.31439 7.40666 8.03892 6.92798C7.76346 6.4493 7.1521 6.28456 6.67342 6.56003L7.67097 8.29349ZM2.7328 12.6201L1.7821 12.9302V12.9302L2.7328 12.6201ZM2.7328 11.3797L3.68347 11.6899L3.68347 11.6899L2.7328 11.3797ZM18.8395 13.8826C18.4248 14.2473 18.3843 14.8792 18.749 15.2939C19.1137 15.7086 19.7456 15.7491 20.1603 15.3843L18.8395 13.8826ZM20.4117 13.7803L21.1166 14.4895C21.1234 14.4828 21.1301 14.4759 21.1367 14.469L20.4117 13.7803ZM20.4133 10.2211L19.7082 10.9303L19.7082 10.9303L20.4133 10.2211ZM10.873 5.07256C10.3252 5.14264 9.9379 5.64355 10.008 6.19137C10.0781 6.73919 10.579 7.12648 11.1268 7.0564L10.873 5.07256ZM20.4146 13.7772L19.7096 13.068C19.7028 13.0747 19.6961 13.0816 19.6895 13.0885L20.4146 13.7772ZM21.2674 12.6206L20.3167 12.3104V12.3104L21.2674 12.6206ZM21.2672 11.38L22.2179 11.0699L22.2179 11.0699L21.2672 11.38ZM13.9845 14.2497C14.3986 13.8843 14.438 13.2523 14.0725 12.8383C13.7071 12.4242 13.0751 12.3848 12.6611 12.7503L13.9845 14.2497ZM11.2803 11.3058C11.6638 10.9085 11.6526 10.2754 11.2553 9.89185C10.8579 9.50828 10.2249 9.51946 9.84129 9.91682L11.2803 11.3058ZM3.29278 4.70711L19.2928 20.7071L20.707 19.2929L4.707 3.29289L3.29278 4.70711ZM16.0256 15.8755C14.7709 16.5514 13.406 16.9999 11.9999 16.9999V18.9999C13.831 18.9999 15.5237 18.4176 16.9742 17.6362L16.0256 15.8755ZM11.9999 16.9999C8.89473 16.9999 6.04271 14.8103 4.29183 13.0696L2.88178 14.488C4.68977 16.2854 8.04374 18.9999 11.9999 18.9999V16.9999ZM4.29323 10.9289C5.15236 10.075 6.31649 9.07295 7.67097 8.29349L6.67342 6.56003C5.11953 7.45424 3.81795 8.58144 2.88331 9.51042L4.29323 10.9289ZM4.29183 13.0696C3.80059 12.5813 3.7474 12.5059 3.6835 12.31L1.7821 12.9302C2.01717 13.6509 2.43362 14.0424 2.88178 14.488L4.29183 13.0696ZM2.88331 9.51042C2.43435 9.95666 2.0173 10.3488 1.78213 11.0695L3.68347 11.6899C3.74737 11.4941 3.80092 11.4182 4.29323 10.9289L2.88331 9.51042ZM3.6835 12.31C3.68351 12.31 3.68073 12.3013 3.67678 12.2824C3.67294 12.2639 3.66878 12.2396 3.66503 12.2097C3.65741 12.1491 3.65283 12.0767 3.65283 11.9999C3.65283 11.9231 3.6574 11.8508 3.66502 11.7901C3.66878 11.7602 3.67292 11.736 3.67677 11.7175C3.68071 11.6986 3.68348 11.6899 3.68347 11.6899L1.78213 11.0695C1.68384 11.3708 1.65283 11.7149 1.65283 11.9999C1.65284 12.285 1.68387 12.6291 1.7821 12.9302L3.6835 12.31ZM20.1603 15.3843C20.5101 15.0767 20.83 14.7744 21.1166 14.4895L19.7067 13.071C19.4459 13.3303 19.1557 13.6044 18.8395 13.8826L20.1603 15.3843ZM21.1183 9.51193C19.3103 7.7145 15.956 5 11.9999 5V7C15.1051 7 17.9574 9.18967 19.7082 10.9303L21.1183 9.51193ZM11.9999 5C11.6181 5 11.2421 5.02535 10.873 5.07256L11.1268 7.0564C11.4155 7.01946 11.7067 7 11.9999 7V5ZM21.1367 14.469L21.1396 14.4659L19.6895 13.0885L19.6867 13.0916L21.1367 14.469ZM21.1195 14.4865C21.5665 14.0423 21.9832 13.6506 22.2181 12.9308L20.3167 12.3104C20.2532 12.5052 20.2 12.5806 19.7096 13.068L21.1195 14.4865ZM19.7082 10.9303C20.1989 11.4181 20.2526 11.4942 20.3165 11.6901L22.2179 11.0699C21.9829 10.3495 21.5664 9.95744 21.1183 9.51193L19.7082 10.9303ZM22.2181 12.9308C22.3164 12.6294 22.3473 12.2851 22.3473 12.0001C22.3472 11.7149 22.3161 11.3709 22.2179 11.0699L20.3165 11.6901C20.3164 11.6897 20.3171 11.6919 20.3184 11.6969C20.3197 11.7018 20.3214 11.7087 20.3232 11.7178C20.3271 11.7363 20.3313 11.7606 20.335 11.7906C20.3427 11.8513 20.3473 11.9237 20.3473 12.0005C20.3473 12.0774 20.3427 12.1497 20.3351 12.2104C20.3314 12.2403 20.3272 12.2645 20.3234 12.2829C20.3195 12.3018 20.3167 12.3105 20.3167 12.3104L22.2181 12.9308ZM12.6611 12.7503C12.4842 12.9064 12.2542 13 11.9999 13V15C12.76 15 13.4563 14.716 13.9845 14.2497L12.6611 12.7503ZM11.9999 13C11.4476 13 10.9999 12.5523 10.9999 12H8.99989C8.99989 13.6569 10.343 15 11.9999 15V13ZM10.9999 12C10.9999 11.73 11.1056 11.4868 11.2803 11.3058L9.84129 9.91682C9.3214 10.4554 8.99989 11.191 8.99989 12H10.9999Z"/>
                </svg>}
            </div>
        </div>
    )
}